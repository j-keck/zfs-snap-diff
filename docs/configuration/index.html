<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Configuration"><meta property="og:title" content="Configuration"><meta property="og:description" content="zfs-snap-diff loads it's configuration from:
Linux, FreeBSD, Solaris  $XDG_CONFIG_HOME/.config/zfs-snap-diff/zfs-snap-diff.toml $HOME/.config/zfs-snap-diff/zfs-snap-diff.toml   macOS  $HOME/Library/Application Support/zfs-snap-diff/zfs-snap-diff.toml    if it does not find a configuration, it will create the following default configuration:
use-cache-dir-for-backups = true days-to-scan = 2 max-archive-unpacked-size-mb = 200 snapshot-name-template = &#34;zfs-snap-diff-%FT%H:%M&#34; compare-method = &#34;auto&#34; diff-context-size = 5 [webserver] listen-ip = &#34;127.0.0.1&#34; listen-port = 12345 use-tls = false cert-file = &#34;&#34; key-file = &#34;&#34; [zfs] use-sudo = false mount-snapshots = false use-cache-dir-for-backups If it's set to true, the file backups will be stored in the users cache-directory."><meta property="og:type" content="article"><meta property="og:url" content="https://j-keck.github.io/zfs-snap-diff/docs/configuration/"><title>Configuration | ZFS Snap Diff</title><link rel=icon href=https://j-keck.github.io/zfs-snap-diff/favicon.png type=image/x-icon><link rel=stylesheet href=https://j-keck.github.io/zfs-snap-diff/book.min.66d2f6926159dd697150bdcd901eead56a7adc9408513ccb9ab553939262dd4c.css integrity="sha256-ZtL2kmFZ3WlxUL3NkB7q1Wp63JQIUTzLmrVTk5Ji3Uw="><script defer src=https://j-keck.github.io/zfs-snap-diff/fontawesome-all.min.js></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=https://j-keck.github.io/zfs-snap-diff/><span>ZFS Snap Diff</span></a></h2><ul><li><a href=https://j-keck.github.io/zfs-snap-diff/docs/install/>Installation</a></li><li><a href=https://j-keck.github.io/zfs-snap-diff/docs/zfs-snap-diff/>zfs-snap-diff</a></li><li><a href=https://j-keck.github.io/zfs-snap-diff/docs/zsd/>zsd</a></li><li><a href=https://j-keck.github.io/zfs-snap-diff/docs/configuration/ class=active>Configuration</a></li><li><a href=https://j-keck.github.io/zfs-snap-diff/docs/changelog/>Changelog</a></li><li><a href=https://j-keck.github.io/zfs-snap-diff/docs/contact-support/>Contact / Support</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=https://j-keck.github.io/zfs-snap-diff/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Configuration</strong>
<label for=toc-control><img src=https://j-keck.github.io/zfs-snap-diff/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#use-cache-dir-for-backups>use-cache-dir-for-backups</a></li><li><a href=#days-to-scan>days-to-scan</a></li><li><a href=#max-archive-unpacked-size-mb>max-archive-unpacked-size-mb</a></li><li><a href=#snapshot-name-template>snapshot-name-template</a></li><li><a href=#compare-method>compare-method</a><ul><li><a href=#auto>auto</a></li><li><a href=#size>size</a></li><li><a href=#mtime>mtime</a></li><li><a href=#size-plus-mtime>size+mtime</a></li><li><a href=#content>content</a></li><li><a href=#md5>md5</a></li></ul></li><li><a href=#diff-context-size>diff-context-size</a></li></ul></nav></aside></header><article class=markdown><p><code>zfs-snap-diff</code> loads it's configuration from:</p><div class=book-tabs><input type=radio class=hidden name=tabs-config-location id=tabs-config-location-0 checked>
<label for=tabs-config-location-0>Linux, FreeBSD, Solaris</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>$XDG_CONFIG_HOME/.config/zfs-snap-diff/zfs-snap-diff.toml
$HOME/.config/zfs-snap-diff/zfs-snap-diff.toml
</code></pre></div></div><input type=radio class=hidden name=tabs-config-location id=tabs-config-location-1>
<label for=tabs-config-location-1>macOS</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>$HOME/Library/Application Support/zfs-snap-diff/zfs-snap-diff.toml
</code></pre></div></div></div><p>if it does not find a configuration, it will create the following default configuration:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>use-cache-dir-for-backups = true
days-to-scan = 2
max-archive-unpacked-size-mb = 200
snapshot-name-template = &#34;zfs-snap-diff-%FT%H:%M&#34;
compare-method = &#34;auto&#34;
diff-context-size = 5

[webserver]
  listen-ip = &#34;127.0.0.1&#34;
  listen-port = 12345
  use-tls = false
  cert-file = &#34;&#34;
  key-file = &#34;&#34;

[zfs]
  use-sudo = false
  mount-snapshots = false
</code></pre></div><h2 id=use-cache-dir-for-backups><code>use-cache-dir-for-backups</code></h2><p>If it's set to <code>true</code>, the file backups will be stored in the users cache-directory.</p><blockquote><p>On Unix systems, it returns $XDG_CACHE_HOME as specified by <a href=https://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html>https://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html</a>
if non-empty, else $HOME/.cache. On Darwin, it returns $HOME/Library/Caches. On Windows, it returns %LocalAppData%.
On Plan 9, it returns $home/lib/cache.</p></blockquote><p><a href=https://golang.org/pkg/os/#UserCacheDir>https://golang.org/pkg/os/#UserCacheDir</a></p><p>If it's <code>false</code>, it will create the backup file under the actual directory in the <code>./zfs-snap-diff/</code> folder.</p><h2 id=days-to-scan><code>days-to-scan</code></h2><p>To speedup the scan for other file versions, <code>zfs-snap-diff</code> performs the scan incremental
when you request an older file version. This parameter determines how many days are scanned
if you request a older versions.</p><h2 id=max-archive-unpacked-size-mb><code>max-archive-unpacked-size-mb</code></h2><p>The maximal (unpacked) archive size is restricted by default.
Set this to <code>-1</code> to allow disable this restriction.</p><h2 id=snapshot-name-template><code>snapshot-name-template</code></h2><p>Snapshot name template. Used to create snapshots in the web-app.
The template supports the following format sequences:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>Format sequences are alike the `date` command
  %d: day of month (e.g., 01)
  %m: month (01..12)
  %y: last two digits of year (00..99)
  %Y: year
  %F: full date; like %Y-%m-%d
  %H: hour (00..23)
  %I: hour (01..12)
  %M: minute (00..59)
  %S: second (00..60)
  %s: seconds since 1970-01-01 00:00:00 UTC
</code></pre></div><h2 id=compare-method><code>compare-method</code></h2><p>Used compare method to find different file versions.
This is used when scanning the zfs snapshots to determine
if a file was modified in a snapshot.</p><h3 id=auto>auto</h3><p>Uses <code>md5</code> for text files and <code>size+mtime</code> for others</p><h3 id=size>size</h3><p>If two files versions have the same filesize,
it's interpreted as the same version.</p><h3 id=mtime>mtime</h3><p>If two files versions have the same mtime,
it's interpreted as the same version.</p><h3 id=size-plus-mtime>size+mtime</h3><p>If two files versions have the same size AND mtime,
it's interpreted as the same version.</p><h3 id=content>content</h3><p>If two files versions have the same content,
it's interpreted as the same version.</p><h3 id=md5>md5</h3><p>If two files versions have the same md5 sum,
it's interpreted as the same version.</p><h2 id=diff-context-size><code>diff-context-size</code></h2><p>Diff context size in the webui.</p></article><footer class=book-footer><div class="flex justify-between"></div><div class=book-comments></div></footer></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#use-cache-dir-for-backups>use-cache-dir-for-backups</a></li><li><a href=#days-to-scan>days-to-scan</a></li><li><a href=#max-archive-unpacked-size-mb>max-archive-unpacked-size-mb</a></li><li><a href=#snapshot-name-template>snapshot-name-template</a></li><li><a href=#compare-method>compare-method</a><ul><li><a href=#auto>auto</a></li><li><a href=#size>size</a></li><li><a href=#mtime>mtime</a></li><li><a href=#size-plus-mtime>size+mtime</a></li><li><a href=#content>content</a></li><li><a href=#md5>md5</a></li></ul></li><li><a href=#diff-context-size>diff-context-size</a></li></ul></nav></aside></main><a href=https://github.com/j-keck/zfs-snap-diff class=github-corner aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media(max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></body></html>